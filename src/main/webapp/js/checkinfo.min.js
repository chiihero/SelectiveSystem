function changepassword(){var e=$("#password"),a=$("#newpassword"),t=$("#new_password_again");if(check_password(e.val()))return!1;if(check_password(a.val()))return!1;if(check_newpassword(t.val()))return!1;if(check_passwordtwo(a.val(),t.val()))return!1;if(e.val()===a.val())return alert("新密码不能与旧密码相同!"),!1;var n=/^[\w_-]{8,24}$/;if(!n.test(e.val())||!n.test(a.val())||!n.test(t.val()))return alert("密码格式不正确!"),!1;a.val(encrypt(a.val())),e.val(encrypt(e.val())),t.val(a.val())}function select_true(e){$("select option[value='"+e+"']").attr("selected",!0)}function check_studentdata(){var e=$("#sno"),a=$("#sname"),t=$("#sage"),n=$("#password");return!check_username(e.val())&&(!check_name(a.val())&&(!check_age(t.val())&&void(null!=n.val()&&(check_password(n.val())||n.val(encrypt(n.val()))))))}function check_teacherdata(){var e=$("#tno"),a=$("#tname"),t=$("#tage"),n=$("#cno1"),r=$("#cno2"),l=$("#cno3"),c=$("#password");return!check_username(e.val())&&(!check_name(a.val())&&(parseInt(t.val())<24||parseInt(t.val())>60||""===t.val()?(alert("年龄必须在24岁到60岁之间"),!1):0===n.val()&&0===r.val()||n.val()!==r.val()?0===n.val()&&0===l.val()||n.val()!==l.val()?0===r.val()&&0===l.val()||r.val()!==l.val()?void(null!=c.val()&&(check_password(c.val())||c.val(encrypt(c.val())))):(alert("2和3课程冲突"),!1):(alert("1和3课程冲突"),!1):(alert("1和2课程冲突"),!1)))}function check_age(e){return""===e&&(alert("年龄不能为空!!"),!0)}function check_name(e){return""===e&&(alert("姓名不能为空!!"),!0)}function check_id(e){return""===e&&(alert("ID不能为空!!"),!0)}function check_username(e){return""===e&&(alert("用户号不能为空!!"),!0)}function check_password(e){return(""===e||!/^[\w_-]{8,24}$/.test(e))&&(alert("密码格式不正确!"),!0)}function check_newpassword(e){return""===e&&(alert("确认密码不能为空!"),!0)}function check_passwordtwo(e,a){return e!==a&&(alert("确认密码不一致!"),!0)}function encrypt(e){try{var a=new jsSHA("SHA3-512","TEXT",{numRounds:parseInt("4096",10)});a.update(e),e=a.getHash("HEX"),console.log(e)}catch(e){alert(e.message)}return hex_md5(e)}function post(e,a,t){$.ajax({url:e,aysnc:!1,type:a,contentType:"application/json; charset=utf-8",data:t,success:function(e){return!0},error:function(e,a,t){return alert("请求失败，消息："+a+"  "+t),!1}})}$("#xlsx").click(function(){var e=$(".table thead tr th").length,a=$("tr").find("button").length,t=$("tr").find("a").length;(a>0||t>0)&&(e-=1),$(".table").tableExport({type:"xlsx",ignoreColumn:[e],bootstrap:!0})}),$("#xls").click(function(){$(".table").tableExport({type:"excel",ignoreColumn:[length],bootstrap:!0})}),$("#csv").click(function(){$(".table").tableExport({type:"csv",ignoreColumn:[length],bootstrap:!0})});